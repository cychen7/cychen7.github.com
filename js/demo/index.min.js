"use strict";function initMenu(){$.ajax({url:"../../dev/menu.json",type:"Get",success:function(e){createMenus(e)},dataType:"json",error:function(e,s,a){console.log(s)}})}function init(){$.ajax({url:"../../dev/courseList.json",type:"Get",success:function(e){createItem(e.rows)},dataType:"json",error:function(e,s,a){console.log(s)}})}function createMenus(e){if(e&&e.length>0){var s='<li class="list-group-item">\n                        <h5 class="clearfix"><%=menuName%><i class="fa fa-caret-right pull-right"></i></h5>\n                        <p><%=desc%></p>\n                        <div class="menu-items">\n                            <%=menuItems%>\n                        </div>\n                    </li>',a="";_.each(e,function(e){var t="";_.each(e.childMenus,function(e){t+="<h5>"+e.menuName+"</h5>",_.each(e.childMenus,function(e){t+='<a href="#" class="item">'+e.menuName+"</a>"})}),a+=_.template(s)({menuName:e.menuName,desc:e.desc,menuItems:t})}),$("#topNavs .course-type>.list-group").append(a)}}function createItem(e){if(e&&e.length>0){var s='<li>\n                    <a href="#">\n                        <div class="course-list-img">\n                            <img width="205" alt="<%=courseName%>" src="/images<%=cover%>">\n                        </div>\n                        <h5 class="text-nowrap"><%=courseName%></h5>\n                        <div class="study-info">\n                            <span class="course-price"><%=coursePrice%></span>\n                            <span class="course-date"><%=startDate%></span>\n                            <span class="study-num"><i class="icon icon-c-user"></i><%=number%>人</span>\n                        </div>\n                    </a>\n                </li>';e=_.orderBy(e,"start-date");var a="",t="",i=5;_.each(e,function(e){t+=_.template(s)({courseName:e.courseName,cover:e.img,coursePrice:e.coursePrice>0?'<span class="course-price">￥'+e.coursePrice+"</span>":'<span class="course-free">免费</span>',startDate:e.startDate,number:e.number}),i--,0==i&&(a+='<div class="catogray"><p class="clearfix">热门推荐<a href="#" class="pull-right"><i class="fa fa-refresh" aria-hidden="true"></i>&nbsp;换一批</a></p><ul class="clearfix">'+t+"</ul></div>",i=5,t="")}),""!=t&&(a+='<div class="catogray"><p class="clearfix">热门推荐<a href="#" class="pull-right"><i class="fa fa-refresh" aria-hidden="true"></i>&nbsp;换一批</a></p><ul class="clearfix">'+t+"</ul></div>",i=5,t=""),$("#courseList").prepend(a)}}$(function(){initMenu(),init(),$("#tabMenu").HighlightNav(".course-it .tab-active-line",{hasActiveStyle:!1}),$("#tabMenu2").HighlightNav(".Parenting .tab-active-line",{hasActiveStyle:!1}),$("#widgetWrap").Widget({itemsSelector:".widget-box",iconSelector:".widget-icon",activeClass:"widget-active",activeSelector:".widget-title",showBox:".asid_sha_layer",lastIsBackTop:!0})}),$(document).delegate("#topNavs .course-type .list-group-item","mouseover",function(){$("#topNavs .menu-items").hide();var e=$(this).children(".menu-items");e.show(),$(this).on("mouseout",function(){e.hide()})});var getRandomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)};